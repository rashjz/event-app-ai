{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/event.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"user-message\": a0,\n    \"ai-message\": a1\n  };\n};\nfunction ChatComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const message_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c0, message_r2.isUser, !message_r2.isUser));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r2.text);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 3, message_r2.timestamp, \"shortTime\"), \" \");\n  }\n}\nfunction ChatComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14);\n    i0.ɵɵelement(2, \"span\")(3, \"span\")(4, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6, \"AI is thinking...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class ChatComponent {\n  constructor(eventService) {\n    this.eventService = eventService;\n    this.message = '';\n    this.messages = [];\n    this.loading = false;\n  }\n  ngOnInit() {\n    // Add welcome message\n    this.messages.push({\n      text: 'Hello! I\\'m your AI assistant. I can help you add events to your calendar. Try saying something like \"add a concert event\" or \"add a movie night\".',\n      isUser: false,\n      timestamp: new Date()\n    });\n  }\n  sendMessage() {\n    if (!this.message.trim() || this.loading) {\n      return;\n    }\n    const userMessage = this.message.trim();\n    this.messages.push({\n      text: userMessage,\n      isUser: true,\n      timestamp: new Date()\n    });\n    this.loading = true;\n    this.message = '';\n    // Send message to backend\n    this.eventService.sendChatMessage(userMessage).subscribe({\n      next: () => {\n        this.messages.push({\n          text: 'Great! I\\'ve processed your request. The events list should be updated now. You can refresh the page to see the new events.',\n          isUser: false,\n          timestamp: new Date()\n        });\n        this.loading = false;\n      },\n      error: error => {\n        this.messages.push({\n          text: 'Sorry, I encountered an error while processing your request. Please try again.',\n          isUser: false,\n          timestamp: new Date()\n        });\n        this.loading = false;\n        console.error('Chat error:', error);\n      }\n    });\n  }\n  onKeyPress(event) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n  clearChat() {\n    this.messages = [{\n      text: 'Hello! I\\'m your AI assistant. I can help you add events to your calendar. Try saying something like \"add a concert event\" or \"add a movie night\".',\n      isUser: false,\n      timestamp: new Date()\n    }];\n  }\n  static {\n    this.ɵfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.EventService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      decls: 13,\n      vars: 6,\n      consts: [[1, \"chat-container\"], [1, \"chat-header\"], [\"title\", \"Clear chat\", 1, \"clear-btn\", 3, \"click\"], [1, \"messages-container\"], [\"class\", \"message\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading-message\", 4, \"ngIf\"], [1, \"input-container\"], [\"placeholder\", \"Type your message here...\", \"rows\", \"2\", 1, \"message-input\", 3, \"ngModel\", \"disabled\", \"ngModelChange\", \"keypress\"], [1, \"send-btn\", 3, \"disabled\", \"click\"], [1, \"message\", 3, \"ngClass\"], [1, \"message-content\"], [1, \"message-text\"], [1, \"message-time\"], [1, \"loading-message\"], [1, \"typing-indicator\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n          i0.ɵɵtext(3, \"AI Assistant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_4_listener() {\n            return ctx.clearChat();\n          });\n          i0.ɵɵtext(5, \" \\uD83D\\uDDD1\\uFE0F \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 3);\n          i0.ɵɵtemplate(7, ChatComponent_div_7_Template, 7, 9, \"div\", 4);\n          i0.ɵɵtemplate(8, ChatComponent_div_8_Template, 7, 0, \"div\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"textarea\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_Template_textarea_ngModelChange_10_listener($event) {\n            return ctx.message = $event;\n          })(\"keypress\", function ChatComponent_Template_textarea_keypress_10_listener($event) {\n            return ctx.onKeyPress($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 8);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_11_listener() {\n            return ctx.sendMessage();\n          });\n          i0.ɵɵtext(12);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngModel\", ctx.message)(\"disabled\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", !ctx.message.trim() || ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Sending...\" : \"Send\", \" \");\n        }\n      },\n      dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\".chat-container[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 0.5rem;\\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\\n  display: flex;\\n  flex-direction: column;\\n  height: 500px;\\n  max-width: 400px;\\n}\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 1rem 1.5rem;\\n  border-bottom: 1px solid #e2e8f0;\\n  background: #f7fafc;\\n  border-radius: 0.5rem 0.5rem 0 0;\\n}\\n\\n.chat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  color: #2d3748;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  font-size: 1.2rem;\\n  cursor: pointer;\\n  padding: 0.25rem;\\n  border-radius: 0.25rem;\\n  transition: background-color 0.2s;\\n}\\n\\n.clear-btn[_ngcontent-%COMP%]:hover {\\n  background: #e2e8f0;\\n}\\n\\n.messages-container[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  display: flex;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.user-message[_ngcontent-%COMP%] {\\n  justify-content: flex-end;\\n}\\n\\n.ai-message[_ngcontent-%COMP%] {\\n  justify-content: flex-start;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n  max-width: 80%;\\n  padding: 0.75rem 1rem;\\n  border-radius: 1rem;\\n  position: relative;\\n}\\n\\n.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background: #4299e1;\\n  color: white;\\n  border-bottom-right-radius: 0.25rem;\\n}\\n\\n.ai-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%] {\\n  background: #f1f5f9;\\n  color: #2d3748;\\n  border-bottom-left-radius: 0.25rem;\\n}\\n\\n.message-text[_ngcontent-%COMP%] {\\n  margin-bottom: 0.25rem;\\n  line-height: 1.4;\\n}\\n\\n.message-time[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n  opacity: 0.7;\\n}\\n\\n.loading-message[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  color: #718096;\\n  font-style: italic;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.25rem;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 8px;\\n  height: 8px;\\n  background: #a0aec0;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_typing 1.4s infinite ease-in-out;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1) {\\n  animation-delay: -0.32s;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) {\\n  animation-delay: -0.16s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_typing {\\n  0%, 80%, 100% {\\n    transform: scale(0.8);\\n    opacity: 0.5;\\n  }\\n  40% {\\n    transform: scale(1);\\n    opacity: 1;\\n  }\\n}\\n\\n.input-container[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  border-top: 1px solid #e2e8f0;\\n  display: flex;\\n  gap: 0.5rem;\\n  align-items: flex-end;\\n}\\n\\n.message-input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  border: 1px solid #e2e8f0;\\n  border-radius: 0.375rem;\\n  padding: 0.75rem;\\n  font-family: inherit;\\n  font-size: 0.875rem;\\n  resize: none;\\n  outline: none;\\n  transition: border-color 0.2s;\\n}\\n\\n.message-input[_ngcontent-%COMP%]:focus {\\n  border-color: #4299e1;\\n}\\n\\n.message-input[_ngcontent-%COMP%]:disabled {\\n  background: #f7fafc;\\n  cursor: not-allowed;\\n}\\n\\n.send-btn[_ngcontent-%COMP%] {\\n  background: #4299e1;\\n  color: white;\\n  border: none;\\n  padding: 0.75rem 1.5rem;\\n  border-radius: 0.375rem;\\n  cursor: pointer;\\n  font-size: 0.875rem;\\n  font-weight: 500;\\n  transition: background-color 0.2s;\\n  white-space: nowrap;\\n}\\n\\n.send-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background: #3182ce;\\n}\\n\\n.send-btn[_ngcontent-%COMP%]:disabled {\\n  background: #a0aec0;\\n  cursor: not-allowed;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFpQjtFQUNqQixxQkFBcUI7RUFDckIscUNBQXFDO0VBQ3JDLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsYUFBYTtFQUNiLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7RUFDOUIsbUJBQW1CO0VBQ25CLG9CQUFvQjtFQUNwQixnQ0FBZ0M7RUFDaEMsbUJBQW1CO0VBQ25CLGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLFNBQVM7RUFDVCxjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsc0JBQXNCO0VBQ3RCLGlDQUFpQztBQUNuQzs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLE9BQU87RUFDUCxnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsU0FBUztBQUNYOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLDJCQUEyQjtBQUM3Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osbUNBQW1DO0FBQ3JDOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxrQ0FBa0M7QUFDcEM7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsV0FBVztFQUNYLGNBQWM7RUFDZCxrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsWUFBWTtBQUNkOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFdBQVc7RUFDWCxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLDJDQUEyQztBQUM3Qzs7QUFFQTtFQUNFLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFO0lBQ0UscUJBQXFCO0lBQ3JCLFlBQVk7RUFDZDtFQUNBO0lBQ0UsbUJBQW1CO0lBQ25CLFVBQVU7RUFDWjtBQUNGOztBQUVBO0VBQ0UsYUFBYTtFQUNiLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2IsV0FBVztFQUNYLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLE9BQU87RUFDUCx5QkFBeUI7RUFDekIsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixvQkFBb0I7RUFDcEIsbUJBQW1CO0VBQ25CLFlBQVk7RUFDWixhQUFhO0VBQ2IsNkJBQTZCO0FBQy9COztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osWUFBWTtFQUNaLHVCQUF1QjtFQUN2Qix1QkFBdUI7RUFDdkIsZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsaUNBQWlDO0VBQ2pDLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hhdC1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLDAsMCwwLjEpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6IDUwMHB4O1xuICBtYXgtd2lkdGg6IDQwMHB4O1xufVxuXG4uY2hhdC1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDFyZW0gMS41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2UyZThmMDtcbiAgYmFja2dyb3VuZDogI2Y3ZmFmYztcbiAgYm9yZGVyLXJhZGl1czogMC41cmVtIDAuNXJlbSAwIDA7XG59XG5cbi5jaGF0LWhlYWRlciBoMyB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6ICMyZDM3NDg7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuXG4uY2xlYXItYnRuIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiAwLjI1cmVtO1xuICBib3JkZXItcmFkaXVzOiAwLjI1cmVtO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG59XG5cbi5jbGVhci1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjZTJlOGYwO1xufVxuXG4ubWVzc2FnZXMtY29udGFpbmVyIHtcbiAgZmxleDogMTtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgcGFkZGluZzogMXJlbTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxcmVtO1xufVxuXG4ubWVzc2FnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbn1cblxuLnVzZXItbWVzc2FnZSB7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG59XG5cbi5haS1tZXNzYWdlIHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuXG4ubWVzc2FnZS1jb250ZW50IHtcbiAgbWF4LXdpZHRoOiA4MCU7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogMXJlbTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4udXNlci1tZXNzYWdlIC5tZXNzYWdlLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kOiAjNDI5OWUxO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwLjI1cmVtO1xufVxuXG4uYWktbWVzc2FnZSAubWVzc2FnZS1jb250ZW50IHtcbiAgYmFja2dyb3VuZDogI2YxZjVmOTtcbiAgY29sb3I6ICMyZDM3NDg7XG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDAuMjVyZW07XG59XG5cbi5tZXNzYWdlLXRleHQge1xuICBtYXJnaW4tYm90dG9tOiAwLjI1cmVtO1xuICBsaW5lLWhlaWdodDogMS40O1xufVxuXG4ubWVzc2FnZS10aW1lIHtcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xuICBvcGFjaXR5OiAwLjc7XG59XG5cbi5sb2FkaW5nLW1lc3NhZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDAuNXJlbTtcbiAgY29sb3I6ICM3MTgwOTY7XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbn1cblxuLnR5cGluZy1pbmRpY2F0b3Ige1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDAuMjVyZW07XG59XG5cbi50eXBpbmctaW5kaWNhdG9yIHNwYW4ge1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbiAgYmFja2dyb3VuZDogI2EwYWVjMDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBhbmltYXRpb246IHR5cGluZyAxLjRzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xufVxuXG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgxKSB7XG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzO1xufVxuXG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgyKSB7XG4gIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzO1xufVxuXG5Aa2V5ZnJhbWVzIHR5cGluZyB7XG4gIDAlLCA4MCUsIDEwMCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMC44KTtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbiAgNDAlIHtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cblxuLmlucHV0LWNvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTJlOGYwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDAuNXJlbTtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xufVxuXG4ubWVzc2FnZS1pbnB1dCB7XG4gIGZsZXg6IDE7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlMmU4ZjA7XG4gIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtO1xuICBwYWRkaW5nOiAwLjc1cmVtO1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgcmVzaXplOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycztcbn1cblxuLm1lc3NhZ2UtaW5wdXQ6Zm9jdXMge1xuICBib3JkZXItY29sb3I6ICM0Mjk5ZTE7XG59XG5cbi5tZXNzYWdlLWlucHV0OmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZDogI2Y3ZmFmYztcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLnNlbmQtYnRuIHtcbiAgYmFja2dyb3VuZDogIzQyOTllMTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xuICBib3JkZXItcmFkaXVzOiAwLjM3NXJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBmb250LXNpemU6IDAuODc1cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5zZW5kLWJ0bjpob3Zlcjpub3QoOmRpc2FibGVkKSB7XG4gIGJhY2tncm91bmQ6ICMzMTgyY2U7XG59XG5cbi5zZW5kLWJ0bjpkaXNhYmxlZCB7XG4gIGJhY2tncm91bmQ6ICNhMGFlYzA7XG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction2","_c0","message_r2","isUser","ɵɵadvance","ɵɵtextInterpolate","text","ɵɵtextInterpolate1","ɵɵpipeBind2","timestamp","ɵɵelement","ChatComponent","constructor","eventService","message","messages","loading","ngOnInit","push","Date","sendMessage","trim","userMessage","sendChatMessage","subscribe","next","error","console","onKeyPress","event","key","shiftKey","preventDefault","clearChat","ɵɵdirectiveInject","i1","EventService","selectors","decls","vars","consts","template","ChatComponent_Template","rf","ctx","ɵɵlistener","ChatComponent_Template_button_click_4_listener","ɵɵtemplate","ChatComponent_div_7_Template","ChatComponent_div_8_Template","ChatComponent_Template_textarea_ngModelChange_10_listener","$event","ChatComponent_Template_textarea_keypress_10_listener","ChatComponent_Template_button_click_11_listener"],"sources":["/Users/Rashad_Javadov/events-backend/src/app/components/chat/chat.component.ts","/Users/Rashad_Javadov/events-backend/src/app/components/chat/chat.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EventService } from '../../services/event.service';\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n  message = '';\n  messages: Array<{text: string, isUser: boolean, timestamp: Date}> = [];\n  loading = false;\n\n  constructor(private eventService: EventService) { }\n\n  ngOnInit(): void {\n    // Add welcome message\n    this.messages.push({\n      text: 'Hello! I\\'m your AI assistant. I can help you add events to your calendar. Try saying something like \"add a concert event\" or \"add a movie night\".',\n      isUser: false,\n      timestamp: new Date()\n    });\n  }\n\n  sendMessage(): void {\n    if (!this.message.trim() || this.loading) {\n      return;\n    }\n\n    const userMessage = this.message.trim();\n    this.messages.push({\n      text: userMessage,\n      isUser: true,\n      timestamp: new Date()\n    });\n\n    this.loading = true;\n    this.message = '';\n\n    // Send message to backend\n    this.eventService.sendChatMessage(userMessage).subscribe({\n      next: () => {\n        this.messages.push({\n          text: 'Great! I\\'ve processed your request. The events list should be updated now. You can refresh the page to see the new events.',\n          isUser: false,\n          timestamp: new Date()\n        });\n        this.loading = false;\n      },\n      error: (error) => {\n        this.messages.push({\n          text: 'Sorry, I encountered an error while processing your request. Please try again.',\n          isUser: false,\n          timestamp: new Date()\n        });\n        this.loading = false;\n        console.error('Chat error:', error);\n      }\n    });\n  }\n\n  onKeyPress(event: KeyboardEvent): void {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n\n  clearChat(): void {\n    this.messages = [{\n      text: 'Hello! I\\'m your AI assistant. I can help you add events to your calendar. Try saying something like \"add a concert event\" or \"add a movie night\".',\n      isUser: false,\n      timestamp: new Date()\n    }];\n  }\n} ","<div class=\"chat-container\">\n  <div class=\"chat-header\">\n    <h3>AI Assistant</h3>\n    <button class=\"clear-btn\" (click)=\"clearChat()\" title=\"Clear chat\">\n      🗑️\n    </button>\n  </div>\n\n  <div class=\"messages-container\">\n    <div \n      class=\"message\" \n      *ngFor=\"let message of messages\"\n      [ngClass]=\"{'user-message': message.isUser, 'ai-message': !message.isUser}\"\n    >\n      <div class=\"message-content\">\n        <div class=\"message-text\">{{ message.text }}</div>\n        <div class=\"message-time\">\n          {{ message.timestamp | date:'shortTime' }}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"loading-message\" *ngIf=\"loading\">\n      <div class=\"typing-indicator\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n      <span>AI is thinking...</span>\n    </div>\n  </div>\n\n  <div class=\"input-container\">\n    <textarea\n      [(ngModel)]=\"message\"\n      (keypress)=\"onKeyPress($event)\"\n      placeholder=\"Type your message here...\"\n      [disabled]=\"loading\"\n      class=\"message-input\"\n      rows=\"2\"\n    ></textarea>\n    <button \n      (click)=\"sendMessage()\" \n      [disabled]=\"!message.trim() || loading\"\n      class=\"send-btn\"\n    >\n      {{ loading ? 'Sending...' : 'Send' }}\n    </button>\n  </div>\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}