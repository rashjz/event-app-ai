{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/event.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction EventsListComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction EventsListComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading events...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EventsListComponent_div_8_div_1_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const event_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.getCategoryName(event_r5.category));\n  }\n}\nfunction EventsListComponent_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function EventsListComponent_div_8_div_1_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const event_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.onEventClick(event_r5));\n    });\n    i0.ɵɵelementStart(1, \"div\", 13)(2, \"img\", 14);\n    i0.ɵɵlistener(\"error\", function EventsListComponent_div_8_div_1_Template_img_error_2_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.onImageError($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 15)(4, \"div\", 16)(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 17)(8, \"span\", 18);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, EventsListComponent_div_8_div_1_span_10_Template, 2, 1, \"span\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"p\", 20);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 21);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"slice\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const event_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", event_r5.image || \"https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=800&h=600&fit=crop\", i0.ɵɵsanitizeUrl)(\"alt\", event_r5.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(event_r5.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r5.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", event_r5.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r5.date);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind3(15, 7, event_r5.description, 0, 150), \"...\");\n  }\n}\nfunction EventsListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, EventsListComponent_div_8_div_1_Template, 16, 11, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.events);\n  }\n}\nfunction EventsListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"p\");\n    i0.ɵɵtext(2, \"No events found. Try adding some events through the chat!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let EventsListComponent = /*#__PURE__*/(() => {\n  class EventsListComponent {\n    constructor(eventService, router) {\n      this.eventService = eventService;\n      this.router = router;\n      this.events = [];\n      this.loading = false;\n      this.error = '';\n    }\n    ngOnInit() {\n      this.loadEvents();\n    }\n    loadEvents() {\n      this.loading = true;\n      this.error = '';\n      this.eventService.getEvents().subscribe({\n        next: events => {\n          this.events = events;\n          this.loading = false;\n        },\n        error: error => {\n          this.error = 'Failed to load events. Please try again.';\n          this.loading = false;\n          console.error('Error loading events:', error);\n        }\n      });\n    }\n    onEventClick(event) {\n      if (event.id) {\n        this.router.navigate(['/event', event.id]);\n      }\n    }\n    onImageError(event) {\n      event.target.src = 'https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?w=800&h=600&fit=crop';\n    }\n    getEventTypeIcon(type) {\n      switch (type.toLowerCase()) {\n        case 'movie':\n          return '🎬';\n        case 'concert':\n          return '🎵';\n        case 'event':\n          return '🎉';\n        case 'custom':\n          return '📝';\n        default:\n          return '📅';\n      }\n    }\n    getCategoryName(category) {\n      return category ? category.name : '';\n    }\n    static {\n      this.ɵfac = function EventsListComponent_Factory(t) {\n        return new (t || EventsListComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EventsListComponent,\n        selectors: [[\"app-events-list\"]],\n        decls: 10,\n        vars: 6,\n        consts: [[1, \"events-container\"], [1, \"events-header\"], [1, \"refresh-btn\", 3, \"disabled\", \"click\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"loading-spinner\", 4, \"ngIf\"], [\"class\", \"events-grid\", 4, \"ngIf\"], [\"class\", \"no-events\", 4, \"ngIf\"], [1, \"error-message\"], [1, \"loading-spinner\"], [1, \"spinner\"], [1, \"events-grid\"], [\"class\", \"event-card\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"event-card\", 3, \"click\"], [1, \"event-image\"], [3, \"src\", \"alt\", \"error\"], [1, \"event-content\"], [1, \"event-header\"], [1, \"event-badges\"], [1, \"event-type\"], [\"class\", \"event-category\", 4, \"ngIf\"], [1, \"event-date\"], [1, \"event-description\"], [1, \"event-category\"], [1, \"no-events\"]],\n        template: function EventsListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"All Events\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(4, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function EventsListComponent_Template_button_click_4_listener() {\n              return ctx.loadEvents();\n            });\n            i0.ɵɵtext(5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(6, EventsListComponent_div_6_Template, 2, 1, \"div\", 3);\n            i0.ɵɵtemplate(7, EventsListComponent_div_7_Template, 4, 0, \"div\", 4);\n            i0.ɵɵtemplate(8, EventsListComponent_div_8_Template, 2, 1, \"div\", 5);\n            i0.ɵɵtemplate(9, EventsListComponent_div_9_Template, 3, 0, \"div\", 6);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading...\" : \"Refresh\", \" \");\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.events.length > 0);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.events.length === 0);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i3.SlicePipe],\n        styles: [\".events-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.events-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.events-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:1.8rem}.refresh-btn[_ngcontent-%COMP%]{background:#4299e1;color:#fff;border:none;padding:.5rem 1rem;border-radius:.375rem;cursor:pointer;font-size:.875rem;transition:background-color .2s}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#3182ce}.refresh-btn[_ngcontent-%COMP%]:disabled{background:#a0aec0;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{background:#fed7d7;color:#c53030;padding:1rem;border-radius:.375rem;margin-bottom:1rem;border:1px solid #feb2b2}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:2rem}.spinner[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px;margin-top:20px}.event-card[_ngcontent-%COMP%]{background:white;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 25px #00000026}.event-image[_ngcontent-%COMP%]{width:100%;height:200px;overflow:hidden}.event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.event-card[_ngcontent-%COMP%]:hover   .event-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.event-content[_ngcontent-%COMP%]{padding:20px}.event-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.event-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 10px 0 0;color:#333;font-size:1.2rem;font-weight:600;flex:1}.event-badges[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;flex-shrink:0}.event-type[_ngcontent-%COMP%]{display:inline-block;background:#007bff;color:#fff;padding:4px 12px;border-radius:20px;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.event-category[_ngcontent-%COMP%]{display:inline-block;background:#28a745;color:#fff;padding:4px 12px;border-radius:20px;font-size:.8rem;text-transform:capitalize;letter-spacing:.5px}.event-date[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin:5px 0}.event-description[_ngcontent-%COMP%]{color:#555;line-height:1.5;margin:10px 0;font-size:.95rem}h2[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px;font-size:2rem;font-weight:300}.no-events[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#718096;font-size:1.1rem}@media (max-width: 768px){.event-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.event-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-right:0}.event-badges[_ngcontent-%COMP%]{flex-direction:row;gap:8px}}\"]\n      });\n    }\n  }\n  return EventsListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}